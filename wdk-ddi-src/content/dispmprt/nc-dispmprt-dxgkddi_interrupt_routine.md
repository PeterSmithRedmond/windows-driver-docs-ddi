---
UID: NC:dispmprt.DXGKDDI_INTERRUPT_ROUTINE
title: DXGKDDI_INTERRUPT_ROUTINE (dispmprt.h)
description: Learn more about the DxgkDdiInterruptRoutine function.
tech.root: display
ms.date: 07/21/2023
keywords: ["DXGKDDI_INTERRUPT_ROUTINE callback function"]
ms.keywords: DXGKDDI_INTERRUPT_ROUTINE, DXGKDDI_INTERRUPT_ROUTINE callback, DmFunctions_5341cc5a-0dd5-4493-ab02-0aa66d910ec0.xml, DxgkDdiInterruptRoutine, DxgkDdiInterruptRoutine callback function [Display Devices], display.dxgkddiinterruptroutine, dispmprt/DxgkDdiInterruptRoutine
req.header: dispmprt.h
req.include-header: 
req.target-type: Desktop
req.target-min-winverclnt: Windows Vista
req.target-min-winversvr: 
req.kmdf-ver: 
req.umdf-ver: 
req.ddi-compliance: 
req.unicode-ansi: 
req.idl: 
req.max-support: 
req.namespace: 
req.assembly: 
req.type-library: 
req.lib: 
req.dll: 
req.irql: See Remarks section.
targetos: Windows
req.typenames: 
f1_keywords:
 - DXGKDDI_INTERRUPT_ROUTINE
 - dispmprt/DXGKDDI_INTERRUPT_ROUTINE
topic_type:
 - APIRef
 - kbSyntax
api_type:
 - UserDefined
api_location:
 - dispmprt.h
api_name:
 - DXGKDDI_INTERRUPT_ROUTINE
---

# DXGKDDI_INTERRUPT_ROUTINE callback function

## -description

The **DxgkDdiInterruptRoutine** function handles interrupts generated by a display adapter.

## -parameters

### -param MiniportDeviceContext [in]

A handle to a context block associated with a display adapter. The display miniport driver's [**DxgkDdiAddDevice**](nc-dispmprt-dxgkddi_add_device.md) function previously provided this handle to the DirectX graphics kernel subsystem.

### -param MessageNumber [in]

The zero-based index in the [message-signaled interrupt](/windows-hardware/drivers/kernel/introduction-to-message-signaled-interrupts) (MSI) table if the interrupt is message-signaled. For line-based interrupts, this parameter is zero.

## -returns

If **DxgkDdiInterruptRoutine** determines that the adapter represented by **MiniportDeviceContext** did not generate the interrupt, it returns FALSE. Otherwise, it must dismiss the interrupt on the adapter before it returns TRUE.

## -remarks

If the interrupt is line-based (**MessageNumber** = 0), **DxgkDdiInterruptRoutine** must determine whether the adapter represented by **MiniportDeviceContext** generated the interrupt and, if not, return FALSE immediately.

If the adapter represented by **MiniportDeviceContext** did generate the interrupt, then **DxgkDdiInterruptRoutine** should perform the following steps:

* Dismiss the interrupt on the adapter.
* Complete the requested operation that caused the interrupt, or queue a DPC that will complete the operation later.
* Return TRUE as quickly as possible.

Any other display miniport driver function that shares memory (for example, some portion of the state represented by **MiniportDeviceContext**) with **DxgkDdiInterruptRoutine** must call [**DxgkCbSynchronizeExecution**](nc-dispmprt-dxgkcb_synchronize_execution.md) to synchronize its access to the shared memory.

The **DxgkDdiInterruptRoutine** function can call [**DxgkCbQueueDpc**](nc-dispmprt-dxgkcb_queue_dpc.md) and [**DxgkCbNotifyInterrupt**](../d3dkmddi/nc-d3dkmddi-dxgkcb_notify_interrupt.md) but must not call any other **DxgkCb*Xxx*** functions. For more information on the proper sequence of function calls, see [Submitting a Command Buffer](/windows-hardware/drivers/display/submitting-a-command-buffer).

**DxgkDdiInterruptRoutine** runs at an elevated IRQL, so it (and all the functions it calls) must be non-pageable. Also, **DxgkDdiInterruptRoutine** (and all the functions it calls) must not attempt to access pageable memory.

## -see-also

[**DxgkCbNotifyInterrupt**](../d3dkmddi/nc-d3dkmddi-dxgkcb_notify_interrupt.md)

[**DxgkCbQueueDpc**](nc-dispmprt-dxgkcb_queue_dpc.md)

[**DxgkCbSynchronizeExecution**](nc-dispmprt-dxgkcb_synchronize_execution.md)
